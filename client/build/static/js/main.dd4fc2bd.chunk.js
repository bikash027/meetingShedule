(this["webpackJsonpintern-assignment"]=this["webpackJsonpintern-assignment"]||[]).push([[0],{18:function(t,e,a){t.exports=a(41)},23:function(t,e,a){},41:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(16),i=a.n(s),l=(a(23),a(1)),o=a(2),c=a(4),u=a(3),h=a(5),d=a(17),m=a.n(d),p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=function(t,e){if(t.getFullYear()===e.getFullYear()){if(t.getMonth()===e.getMonth()){if(t.getDate()===e.getDate())return 0;if(t.getDate()<e.getDate())return-1}else if(t.getMonth()<e.getMonth())return-1}else if(t.getFullYear()<e.getFullYear())return-1;return 1},g=function(t,e){for(var a=0,n=t.length-1;a<=n;){var r=a+Math.floor((n-a)/2);if(0===f(e,t[r]))return r;1===f(e,t[r])?a=r+1:n=r-1}return-1},v=function(t,e){return{start:g(e,t.start),end:g(e,t.end)}},b=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t="wait for a moment";return""!==this.props.tableData&&(t=(t=this.props.tableData.map((function(t){return{id:t.id,name:t.name,start:t.start.getDate()+"/"+p[t.start.getMonth()],end:t.end.getDate()+"/"+p[t.end.getMonth()]}}))).map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{className:"index"},t.id),r.a.createElement("td",{className:"name"},t.name),r.a.createElement("td",{className:"date"},t.start),r.a.createElement("td",{className:"date"},t.end))}))),r.a.createElement("div",{id:"table"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"head"},"intern-assignment"),r.a.createElement("td",{className:"date Date"},"start date"),r.a.createElement("td",{className:"date Date"},"end date")))),r.a.createElement("table",null,r.a.createElement("tbody",null,t)))}}]),e}(r.a.Component),y=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props.date,e="white";0!==t.getDay()&&6!==t.getDay()||(e="#e1e1e1");var a={height:40*this.props.size+"px",backgroundColor:e,borderTop:"1px solid black"};return r.a.createElement("div",{className:"column"},r.a.createElement("p",null,this.props.date.getDate()),r.a.createElement("div",{style:a}))}}]),e}(r.a.Component),D=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props.ar,e=v(this.props.interval,t);if(-1===e.start||-1===e.end)return r.a.createElement("p",null);var a={width:30*(e.end-e.start+1)+"px",marginLeft:30*e.start+"px"},n={marginLeft:30*(e.end-e.start+1)+10+"px"};return r.a.createElement("div",{style:a,className:"row"},r.a.createElement("p",{style:n},this.props.interval.name))}}]),e}(r.a.Component),E=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={display:"none"},a}return Object(h.a)(e,t),Object(o.a)(e,[{key:"showFreeSlots",value:function(){this.setState({display:"block"})}},{key:"findSlots",value:function(){for(var t=[],e=this.props.data,a=this.props.ar,n=[],r=0;r<a.length;r++)n.push(0);for(var s=0;s<e.length;s++){var i=v(e[s],a);n[i.start]++,i.end<a.length-1&&n[i.end+1]--}for(var l=1;l<a.length;l++)n[l]+=n[l-1];for(var o=0;o<a.length;o++)0===n[o]&&t.push(o);return t}},{key:"render",value:function(){var t=this,e=this.findSlots().map((function(e){var a={left:30*e+"px",height:40*t.props.data.length+"px",display:t.state.display};return r.a.createElement("div",{style:a,className:"slot-column"})}));return r.a.createElement("div",{className:"free-slots"},e,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.showFreeSlots()}},"show free slots"))}}]),e}(r.a.Component),O=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(o.a)(e,[{key:"getMonths",value:function(){for(var t=this.props.dates,e=t[0].getMonth(),a=t[0].getDate(),n=[],r=1;r<t.length;r++)t[r].getMonth()!==e&&(n.push({month:p[e],period:t[r-1].getDate()-a+1,year:t[r-1].getFullYear()}),e=t[r].getMonth(),a=1);return n.push({month:p[e],period:t[t.length-1].getDate()-a+1,year:t[t.length-1].getFullYear()}),n}},{key:"render",value:function(){var t=this.getMonths().map((function(t){var e={width:30*t.period+"px"};return r.a.createElement("p",{className:"month",style:e},t.month," ",t.year)}));return r.a.createElement("div",null,t)}}]),e}(r.a.Component),j=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(c.a)(this,Object(u.a)(e).call(this))).dates=[],t.min="",t.max="",t.state={},t}return Object(h.a)(e,t),Object(o.a)(e,[{key:"findRangeofDates",value:function(){for(var t=new Date(2030,1,1),e=new Date(1990,1,1),a=this.props.data,n=0;n<a.length;n++)a[n].start<t&&(t=a[n].start),a[n].end>e&&(e=a[n].end);this.min=t,this.max=e}},{key:"setDates",value:function(){this.dates=[];for(var t=new Date(this.min);t<=this.max;)this.dates.push(new Date(t)),t.setDate(t.getDate()+1);this.dates.push(new Date(t))}},{key:"render",value:function(){var t=this;this.findRangeofDates(),this.setDates();var e=this.props.data.length,a=this.dates.map((function(t){return r.a.createElement(y,{size:e,date:t})})),n=Array.from(this.props.data),s=n.map((function(e){return r.a.createElement(D,{interval:e,ar:t.dates})})),i={width:30*this.dates.length+"px"};return r.a.createElement("div",{id:"chart"},r.a.createElement("div",{style:i,id:"canvas"},r.a.createElement(O,{dates:this.dates}),a,r.a.createElement(E,{data:n,ar:this.dates}),r.a.createElement("div",{id:"row-container"},s)))}}]),e}(r.a.Component),w=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).t="",a.state={tableData:""},a}return Object(h.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.getData(),this.t=setInterval((function(){t.getData()}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.t)}},{key:"shouldComponentUpdate",value:function(t,e){var a=e.tableData,n=this.state.tableData;if(a.length!==n.length)return!0;for(var r=0;r<a.length;r++)if(a[r].name===n[r].name&&a[r].start===n[r].start&&a[r].end===n[r].end)return!1;return!0}},{key:"getData",value:function(){var t=this;m.a.get("/api").then((function(e){var a=e.data;!function(t){for(var e=0;e<t.length;e++){var a=t[e].start,n=a.substring(0,2),r=a.substring(3,5),s=a.substring(6,10);n=parseInt(n),r=parseInt(r)-1,s=parseInt(s),t[e].start=new Date(s,r,n);var i=t[e].end;n=i.substring(0,2),r=i.substring(3,5),s=i.substring(6,10),n=parseInt(n),r=parseInt(r)-1,s=parseInt(s),t[e].end=new Date(s,r,n)}}(a),t.setState({tableData:a})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(b,{tableData:this.state.tableData}),r.a.createElement(j,{data:this.state.tableData}))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.dd4fc2bd.chunk.js.map